现在需要对该项目进行完整的分析。

按照README.md中的说法，如下
```
一次完整分析流程

| 步骤 | 阶段名称 | 主要操作 | 参与组件 | 循环特性 |
|------|----------|----------|----------|----------|
| 1 | 用户提问 | Flask主应用接收查询 | Flask主应用 | - |
| 2 | 并行启动 | 三个Agent同时开始工作 | Query Agent、Media Agent、Insight Agent | - |
| 3 | 初步分析 | 各Agent使用专属工具进行概览搜索 | 各Agent + 专属工具集 | - |
| 4 | 策略制定 | 基于初步结果制定分块研究策略 | 各Agent内部决策模块 | - |
| 5-N | **循环阶段** | **论坛协作 + 深度研究** | **ForumEngine + 所有Agent** | **多轮循环** |
| 5.1 | 深度研究 | 各Agent基于论坛主持人引导进行专项搜索 | 各Agent + 反思机制 + 论坛引导 | 每轮循环 |
| 5.2 | 论坛协作 | ForumEngine监控Agent发言并生成主持人总结 | ForumEngine + LLM主持人 | 每轮循环 |
| 5.3 | 交流融合 | 各Agent根据讨论调整研究方向 | 各Agent + forum_reader工具 | 每轮循环 |
| N+1 | 结果整合 | Report Agent收集所有分析结果和论坛内容 | Report Agent | - |
| N+2 | 报告生成 | 动态选择模板和样式，多轮生成最终报告 | Report Agent + 模板引擎 | - |
```
基于上述流程，尝试分析
1. 根据主要的流程和逻辑，给出完整的代码调用链。
2. 每个流程中是如何使用AI的，AI的输入和输出是什么，在调用链中的作用是什么。

**输出**：项目分析结果整理成一个markdown文件，文件名称为`ANALYSIS.md`，放在docs目录下。

**在此基础上，如果我的目标是将该项目修改成一个以金融分析为主的分析系统，为消息分析、股票分析、题材分析等功能服务，需要做哪些修改？**

核心问题：
1. 当前系统是一个舆情分析系统，包括大量的爬虫以相关资料。那么如果作为金融分析系统，其核心功能是什么？
2. 按照我的理解，核心功能是消息分析、股票分析、题材分析，我应该如何规划系统功能？
3. 数据从哪里来？我现在有交易数据和行情数据，还有一些辅助的材料数据，我应该如何使用这些数据？

这只是我的初步的一些想法，很前期，你要认真思考并提出问题，举一反三，最终给我详细的修改方案。

**输出**：将修改方案整理成一个markdown文件，文件名称为`PLAN.md`，放在docs目录下。